<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  kavalon
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="kavalon" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:klovelovely.github.io ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; kavalon</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="memo.html">memo</a></li>
        
            <li><a href="tech.html">tech</a></li>
        
            <li><a href="macOS.html">macOS</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15119438660955.html">
                
                  <h1>iOS Universal Links 配置流程</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<ol>
<li>创建一个 apple-app-site-association 文件(JSON), 配置具体某个 App 可以 handle 哪些 url
示例:
{
&quot;applinks&quot;: {
    &quot;apps&quot;: [],
    &quot;details&quot;: [
        {
            &quot;appID&quot;: &quot;applinks:2HHW7J2HF4.com.diqiugang.2c&quot;,
            &quot;paths&quot;: [ &quot;*&quot;]
        }
    ]
}
}</li>
<li>上传文件到一个 https 的 web server 上, 可以放在根目录 / 或者 .well-known 文件夹下</li>
<li>设置app 处理 universal links
1) 设置 com.apple.developer.associated-domains 字段, 添加一个需要 Universal links 处理的域名列表.
To do this in Xcode, open the Associated Domains section in the Capabilities tab and add an entry for each domain that your app supports, prefixed with applinks:, such as applinks:<a href="http://www.mywebsite.com">www.mywebsite.com</a>. Limit this list to no more than about 20 to 30 domains.
2) </li>
</ol>

<p>从iOS 9.3开始, 只支持和当前页面不同域情况下打开App</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/11/29</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='tech.html'>tech</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15052867472023.html">
                
                  <h1>手心里的时光</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>什么时候，还可以像以前一样，手挽着手，走在那宽宽的马路上，做一群快乐的小孩。 总觉得无论走到哪里，变成什么样子，遇见你们的时候，还可以顽皮地像个孩子。 有一天，我们会一起伸出布满岁月的手吧，数着手心里的时光……</p>

<p>from: <a href="http://ycool.com/user/suqing">http://ycool.com/user/suqing</a></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/9/13</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='memo.html'>memo</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15051249357927.html">
                
                  <h1>国内优秀npm镜像推荐及使用</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>npm全称Node Package Manager，是node.js的模块依赖管理工具。由于npm的源在国外，所以国内用户使用起来各种不方便。下面整理出了一部分国内优秀的npm镜像资源，国内用户可以选择使用。</p>

<h2 id="toc_0">国内优秀npm镜像</h2>

<h3 id="toc_1">淘宝npm镜像</h3>

<p>搜索地址：<a href="http://npm.taobao.org/">http://npm.taobao.org/</a><br/>
registry地址：<a href="http://registry.npm.taobao.org/">http://registry.npm.taobao.org/</a></p>

<h3 id="toc_2">cnpmjs镜像</h3>

<p>搜索地址：<a href="http://cnpmjs.org/">http://cnpmjs.org/</a><br/>
registry地址：<a href="http://r.cnpmjs.org/">http://r.cnpmjs.org/</a><br/>
如何使用</p>

<p>有很多方法来配置npm的registry地址，下面根据不同情境列出几种比较常用的方法。以淘宝npm镜像举例：</p>

<h4 id="toc_3">1. 临时使用</h4>

<pre><code class="language-bash">npm --registry https://registry.npm.taobao.org install express
</code></pre>

<h4 id="toc_4">2. 持久使用</h4>

<pre><code class="language-bash">npm config set registry https://registry.npm.taobao.org

// 配置后可通过下面方式来验证是否成功
npm config get registry
// 或
npm info express
</code></pre>

<h4 id="toc_5">3. 通过cnpm使用</h4>

<pre><code class="language-bash">npm install -g cnpm --registry=https://registry.npm.taobao.org

// 使用
cnpm install express
</code></pre>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/9/11</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='tech.html'>tech</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15002839379080.html">
                
                  <h1>微信小程序的一些坑</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>es6 转 es5, 如果遇到不小心重复 export 的情况</p>

<pre><code class="language-javascript">export {
    foo,
    bar,
    foo
}
</code></pre>

<p>转译过程不会报错, 但是最终生成的 js 似乎是变成了一个空文件, Network 请求正常, 没有 404, 但是控制台会报错 <code>Uncaught Error: module &quot;utils/API.js&quot; is not defined</code></p>

<p>对于&quot;腾讯内部的 KPI 项目&quot;已经无力吐槽 🙂</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/7/17</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='tech.html'>tech</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14981186463825.html">
                
                  <h1>macOS 下 Charles 设置移动端代理遇到的坑 - shadowsocks</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>Charles 设置移动端抓包没有那么困难, 大部分的问题基本都搜得到, 不过最近遇到了一个比较奇怪的问题, 对于手机常开 shadowsocks 之类科学上网 App 的小伙伴可以注意一下, 因为被这个坑了1个多小时, 所以在这里记一下备忘.</p>

<p>按正常的情况: 如果手机配置正确, 在配置好代理的时候, Charles 是会弹窗提示 &quot;有新设备连接, 是否允许&quot; 的. </p>

<p>Charles 所有的配置都是之前已经配好而且一直在用的所以电脑端配置有问题的可能性极小, 但这次在自己手机端配置好代理之后, Charles 却一直没有任何新设备连接提示. 是的, 没有任何提示... 于是就踏上了没有任何调试信息调试工具辅助的 debug 之路</p>

<p>大概的 debug 过程: 同事的手机连接他自己的 Charles 没问题, 同事的这部手机连接我的 Charles 也没问题, 我的手机连接同事的 Charles 依然有问题, 所以基本可以确定是我自己手机的问题了. 因为我的手机(MIUI)之前 Root 并装了 Google 框架, 所以刚开始以为是 Google 框架的问题, 但是当我把 Google 所有服务全部卸载重启之后发现依然连不上的时候, 我发现问题并没有那么简单...</p>

<p>总结出来就是一句话:</p>

<p><strong>使用 Charles 设置移动端抓包的时候, 手机记得一定要关闭 shadowsocks 之类的代理 App, 就算是规则代理也不行.</strong></p>

<p>之前一直以为 shadowsocks 的规则代理只会对规则内列表起作用, 所以这次设置 Charles 就没有考虑到这方面...</p>

<p>所以基于这样的实际情况, 推测 ss 开启的情况下, 就算是开启基于规则的代理策略, 也会默认监听匹配所有 socket 请求, 如果匹配上就会转到代理服务器, 如果匹配不上则会以自己的身份直接转发给对应的地址(从Android系统设置里的耗电和网络流量排行中也可以看得出来), 估计就是因为 shadowsocks 对所有请求的代理导致 Charles 无法识别移动端的吧</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/6/22</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='macOS.html'>macOS</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_1.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>kavalon</h1>
                <div class="site-des">kavalon's</div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="memo.html"><strong>memo</strong></a>
        
            <a href="tech.html"><strong>tech</strong></a>
        
            <a href="macOS.html"><strong>macOS</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15119438660955.html">iOS Universal Links 配置流程</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15052867472023.html">手心里的时光</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15051249357927.html">国内优秀npm镜像推荐及使用</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15002839379080.html">微信小程序的一些坑</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14981186463825.html">macOS 下 Charles 设置移动端代理遇到的坑 - shadowsocks</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    



  </body>
</html>
